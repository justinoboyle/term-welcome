{"version":3,"sources":["../../src/screens/userLogin.js"],"names":["global","curUser","passwordBuffer","didRenderSwitch","init","users","render","screen","blessed","box","top","left","content","Array","length","join","tags","append","focus","process","stdout","write","keypress","key","changeScreen","code","charCodeAt","exit","substring"],"mappings":";;;;;;;;;;;;AAAA;;;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,EAAjB;;AAEA,IAAIC,iBAAiB,EAArB;AACA,IAAIC,kBAAkB,KAAtB;;kBAEe;AACXC;AAAA,uEAAM;AAAA;AAAA;AAAA;AAAA;AACF,gCAAGH,WAAW,EAAd,EACIA,UAAUD,OAAOK,KAAP,CAAa,CAAb,KAAmB,MAA7B;AACJH,6CAAiB,EAAjB;AACAC,8CAAkB,KAAlB;;AAJE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAN;;AAAA;AAAA;AAAA;;AAAA;AAAA,OADW;AAOXG;AAAA,wEAAQ,kBAAeC,MAAf,EAAuBC,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAEAC,+BAFA,GAEMD,QAAQC,GAAR,CAAY;AAClBC,qCAAK,QADa;AAElBC,sCAAM,QAFY;AAGlBC,yCAAS,cAAcX,OAAd,GAAwB,iBAAxB,GAA4C,IAAIY,KAAJ,CAAUX,eAAeY,MAAf,GAAwB,CAAlC,EAAqCC,IAArC,CAA0C,GAA1C,CAHnC;AAIlBC,sCAAM;AAJY,6BAAZ,CAFN;;;AASJT,mCAAOU,MAAP,CAAcR,GAAd;;AAEAA,gCAAIS,KAAJ;;AAEA,gCAAG,CAACf,eAAJ,EACIgB,QAAQC,MAAR,CAAeC,KAAf,CAAqB,gBAArB;AACJlB,8CAAkB,IAAlB;;AAfI,8DAiBGI,MAjBH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAR;;AAAA;AAAA;AAAA;;AAAA;AAAA,OAPW;AA0BXe;AAAA,wEAAU,kBAAeC,GAAf,EAAoBC,YAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AACFC,gCADE,GACK,CAACF,MAAM,EAAP,EAAWG,UAAX,CAAsB,CAAtB,CADL;;AAEN,gCAAGD,QAAQ,EAAX,EAAe;AACXN,wCAAQQ,IAAR,CAAa,CAAb;AACJ,gCAAGJ,OAAO,KAAV,EACIrB,iBAAiBA,eAAe0B,SAAf,CAAyB,CAAzB,EAA4B1B,eAAeY,MAAf,GAAwB,CAApD,CAAjB,CADJ,KAGIZ,kBAAkBqB,GAAlB;;AAPE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAV;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA1BW,C","file":"userLogin.js","sourcesContent":["import os from 'os';\nimport indexScreen from './indexScreen';\n\nglobal.curUser = \"\";\n\nlet passwordBuffer = \"\";\nlet didRenderSwitch = false;\n\nexport default {\n    init: async function() {\n        if(curUser == \"\")\n            curUser = global.users[0] || \"root\";\n        passwordBuffer = \"\";\n        didRenderSwitch = false;\n    },\n    render: async function(screen, blessed) {\n\n        let box = blessed.box({\n            top: 'center',\n            left: 'center',\n            content: \"Sign in: \" + curUser + \"\\n\\nPassword:  \" + new Array(passwordBuffer.length + 1).join('*'),\n            tags: true\n        });\n\n        screen.append(box);\n\n        box.focus();\n\n        if(!didRenderSwitch)\n            process.stdout.write(\"^C Switch User\");\n        didRenderSwitch = true;\n\n        return screen;\n    },\n    keypress: async function(key, changeScreen) {\n        let code = (key + \"\").charCodeAt(0);\n        if(code == 13) // delete\n            process.exit(0);\n        if(key == 'DEL')\n            passwordBuffer = passwordBuffer.substring(0, passwordBuffer.length - 2);\n        else\n            passwordBuffer += key;\n    }\n} "]}